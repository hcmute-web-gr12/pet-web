"use strict";var o=(...r)=>{let t="http://www.w3.org/2000/svg",e=document.createElementNS(t,"svg"),n=document.createElementNS(t,"circle"),s=document.createElementNS(t,"path");return e.classList.add("animate-spin","text-stone-100",...r),e.setAttribute("fill","none"),e.setAttribute("viewBox","0 0 24 24"),n.classList.add("opacity-25"),n.setAttribute("cx","12"),n.setAttribute("cy","12"),n.setAttribute("r","10"),n.setAttribute("stroke","currentColor"),n.setAttribute("stroke-width","4"),s.classList.add("opacity-75"),s.setAttribute("d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"),s.setAttribute("fill","currentColor"),e.append(n,s),e},i=(r,...t)=>{let e=o(...t);return r.append(e),()=>{e.remove()}};document.getElementById("description").insertAdjacentHTML("afterbegin",DOMPurify.sanitize(marked.parse(props.description.replace(/&grave;/g,"`"),{gfm:!0,headerIds:!0,smartypants:!0,smartLists:!0}).replace("&lt;","<")));function c(r){r.preventDefault();let t=document.getElementById("form-result"),e=document.getElementById("add-to-cart"),n=i(e,"w-4","h-4","ml-2"),s=new FormData;e.disabled=!0,t.classList.add("opacity-0"),s.set("id",props.id),fetch("/api/cart",{method:"post",body:new URLSearchParams(s)}).then(async a=>{if(t.classList.remove("opacity-0"),a.status===200){t.classList.replace("text-red-600","text-green-600"),t.textContent="Th\xEAm v\xE0o gi\u1ECF h\xE0ng th\xE0nh c\xF4ng.";return}t.classList.replace("text-green-600","text-red-600"),a.status===403?t.textContent="Xin vui l\xF2ng \u0111\u0103ng nh\u1EADp.":t.textContent=await a.text()}).finally(()=>{e.disabled=!1,n()})}document.getElementById("cart-form").addEventListener("submit",c);
